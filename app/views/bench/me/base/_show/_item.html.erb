<div class="<%= active_helper(id: task.id) %>" data-id="<%= task.id %>" id="task_<%= task.id %>">
  <div id="play_task_<%= task.id %>" class="level is-underline mb-0" data-controller="show" data-action="mouseenter->show#show mouseleave->show#hide">
    <div class="level-left">
      <div class="level-item">
        <span style="visibility: hidden" data-show-target="item">
          <%= render partial: '_shared/rail', locals: { task: task } %>
        </span>
        <i class="fas fa-bars fa-fw has-text-grey"></i>
      </div>
      <div class="level-item">
        <%= link_to task.title, me_task_path(task) %>
      </div>
    </div>
    <div class="level-right">
      <span style="visibility: hidden" data-show-target="item">
        <%= link_to me_task_path(task), aria: { label: t('.destroy') }, method: :delete, remote: true do %>
          <i class="fas fa-trash fa-fw has-text-danger"></i>
        <% end %>
      </span>
    </div>
  </div>
  <% if task.id == @task.id %>
    <div class="box is-shadowless py-0" data-controller="sortable" data-src="/me/tasks">
      <% task.children.each do |child| %>
        <%= render partial: '_show/task', locals: { task: child } %>
      <% end %>
      <div id="item_add" class="box is-shadowless py-0">
        <%= link_to new_me_task_path(parent_id: @task.id), remote: true do %>
          <i class="fas fa-plus"></i>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
